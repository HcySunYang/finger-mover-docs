/*!
 * simulation-scroll-x.min.js v1.0.2
 * (c) 2017 HcySunYang
 * Released under the MIT License.
 */!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.simulationScrollX=t()}(this,function(){"use strict";return function(n){return function(t){function e(n,t){if(b)return void s(b,"width: "+t+"px;");b=document.createElement("span"),s(b,"\n                position: absolute;\n                z-index: 10000000;\n                left:0;\n                bottom: 3px;\n                height: 3px; \n                width: "+t+"px; \n                background-color: #000;\n                opacity: 0;\n                border-radius: 1.5px;\n                transition: opacity .2s;\n                -webkit-transition: opacity .2s;\n            "),"static"===a(n,"position")&&s(n,"position: relative;"),n.appendChild(b)}function r(n){var t=n,e=0;t<T?(e=4*(T-t),e>M-y&&(e=M-y),t=T):t>X&&(e=4*(t-X),e>M-y&&(e=M-y),t=X+e);var r=M-e;b.style.width=r+"px",w.transform(b,"translateX",t)}var o=t.Moved,a=t.getStyle,i=t.extend,s=t.cssText,c=t.getRelativeRect,l=t.isInElement,u=t.throwError,f=function(){},d=i({scrollBar:!0,bounce:!0,onTouchMove:f,onTransMove:f,onTransMoveEnd:f},n),p=null,m=null,h=0,g=0,v=0,b=null,M=0,y=7,S=0,x=0,T=0,X=0,w=new o,k=0,B=0,E="easeOutStrong",O=0,I=!1,z=!1;return{init:function(n){p=n.el,m=p.parentNode,this.refreshSize()},start:function(n){n.fingers[0];E="easeOutStrong",I=!1,z=!1,w.stop(function(n){k=n.translateX})},move:function(n){if("start"===w.moveStatus)return!1;var t=n.fingers[0],e=k+t.distanceX;if(!t.fingerInElement)return z||(z=!0,this.makeMove(t)),!1;e>S||x>0?e=d.bounce?.5*e:S:e<x&&(e=d.bounce?x+.5*(e-x):x),w.transform(t.el,"translateX",e),d.scrollBar&&(s(b,"opacity: .4;"),r(-e*v)),d.onTouchMove.call(this,n)},end:function(n){var t=n.fingers[0],e=n.changeFingerIndex,r=n.fingerNumber,o=t.fingerInElement;0===e&&0===r&&o&&this.makeMove(t)},cancel:function(n){var t=n.fingers[0],e=n.changeFingerIndex,r=n.fingerNumber,o=t.fingerInElement;0===e&&0===r&&o&&(k+=t.distanceX)},makeMove:function(n){function t(t){var r=Math.abs(t-k)/Math.abs(n.transDistanceY)*n.transTime;return r<500?(r=500,e=2):r>2e3&&(r=2e3),r}var e;O=n.transTime,k+=n.distanceX,B=k+n.transDistanceX,k>S||x>0?(B=S,E="easeOutStrong",O=d.bounce?500:n.transTime,I=!0):k<x?(B=x,E="easeOutStrong",O=d.bounce?500:n.transTime,I=!0):B<x?d.bounce?(B=x,E="backOut",O=t(x)):E="easeOutStrong":B>S&&(d.bounce?(B=S,E="backOut",O=t(S)):E="easeOutStrong"),Math.abs(n.transDistanceX)>100||I?this.wrapMove(B,O,E,e):d.scrollBar&&s(b,"opacity: 0;")},wrapMove:function(n,t,e,o){w.start({el:p,target:{translateX:n},type:e,time:t,s:o,inCallBack:function(n){k=n.translateX,d.bounce||(k>=S&&w.stop(function(n){k=S,w.transform(p,"translateY",k)}),k<=x&&w.stop(function(n){k=x,w.transform(p,"translateY",x)})),d.scrollBar&&r(-n.translateX*v),d.onTransMove.call(this,k)},endCallBack:function(n){k=n.translateX,d.onTransMoveEnd.call(this,k),d.scrollBar&&s(b,"opacity: 0;")}})},scrollTo:function(n,t){var e;"string"==typeof n?e=document.querySelector(n):n instanceof Element&&(e=n),e&&(l(p,e)||u("ScrollTo function argument error, `child` must be a child of `parent`"),n=-c(p,e).left),k=n,this.wrapMove(n,t,"easeOutStrong")},refreshSize:function(){h=parseFloat(a(p,"width")),g=m.clientWidth,x=g-h,S=0,x>0&&(d.scrollBar=!1),d.scrollBar&&(v=g/h,M=g*v,y=M<y?M:y,T=-S*v,X=-x*v,e(m,M))}}}}});